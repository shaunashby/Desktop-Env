(defun latin1-to-sf7 ()
  (interactive)
  (let ((buffer-read-only nil))
    (subst-char-in-region (point-min) (point-max) ?\344 ?\{ t)
    (subst-char-in-region (point-min) (point-max) ?\304 ?\[ t)
    (subst-char-in-region (point-min) (point-max) ?\345 ?\} t)
    (subst-char-in-region (point-min) (point-max) ?\305 ?\] t)
    (subst-char-in-region (point-min) (point-max) ?\366 ?\| t)
    (subst-char-in-region (point-min) (point-max) ?\326 ?\\ t)))

(defun sf7-to-latin1 ()
  (interactive)
  (let ((buffer-read-only nil))
    (subst-char-in-region (point-min) (point-max) ?\{ ?\344 t)
    (subst-char-in-region (point-min) (point-max) ?\[ ?\304 t)
    (subst-char-in-region (point-min) (point-max) ?\} ?\345 t)
    (subst-char-in-region (point-min) (point-max) ?\] ?\305 t)
    (subst-char-in-region (point-min) (point-max) ?\| ?\366 t)
    (subst-char-in-region (point-min) (point-max) ?\\ ?\326 t)))

(defun sf7-to-latin1-query ()
  (interactive)
  (let ((start (point-min)))
    (switch-to-buffer (current-buffer))
    (point-to-register 'back)
    (goto-char start) (query-replace "{" "\344")
    (goto-char start) (query-replace "[" "\304")
    (goto-char start) (query-replace "}" "\345")
    (goto-char start) (query-replace "]" "\305")
    (goto-char start) (query-replace "|" "\366")
    (goto-char start) (query-replace "\\" "\326")
    (register-to-point 'back)))
	   
(defun cheap-sf7-to-latin1 ()
  (interactive)
  (let ((buffer-read-only nil))
    (subst-char-in-region (point-min) (point-max) ?\{ ?a t)
    (subst-char-in-region (point-min) (point-max) ?\[ ?A t)
    (subst-char-in-region (point-min) (point-max) ?\} ?a t)
    (subst-char-in-region (point-min) (point-max) ?\] ?A t)
    (subst-char-in-region (point-min) (point-max) ?\| ?o t)
    (subst-char-in-region (point-min) (point-max) ?\\ ?O t)))

(defun cheap-sf7-to-latin1-query ()
  (interactive)
  (let ((start (point-min)))
    (switch-to-buffer (current-buffer))
    (point-to-register 'back)
    (goto-char start) (query-replace "{" "a")
    (goto-char start) (query-replace "[" "A")
    (goto-char start) (query-replace "}" "a")
    (goto-char start) (query-replace "]" "A")
    (goto-char start) (query-replace "|" "o")
    (goto-char start) (query-replace "\\" "O")
    (register-to-point 'back)))
	   
(defun cheap-latin1-to-sf7 ()
  (interactive)
  (let ((buffer-read-only nil))
    (subst-char-in-region (point-min) (point-max) ?\344 ?a t)
    (subst-char-in-region (point-min) (point-max) ?\304 ?A t)
    (subst-char-in-region (point-min) (point-max) ?\345 ?a t)
    (subst-char-in-region (point-min) (point-max) ?\305 ?A t)
    (subst-char-in-region (point-min) (point-max) ?\366 ?o t)
    (subst-char-in-region (point-min) (point-max) ?\326 ?O t)))

